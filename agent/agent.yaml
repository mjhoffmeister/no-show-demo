# yaml-language-server: $schema=https://raw.githubusercontent.com/microsoft/AgentSchema/refs/heads/main/schemas/v1.0/ContainerAgent.yaml

# Agent manifest for Azure AI Foundry Hosted Agent
# Deploy with: azd up (from infra-agent folder)

kind: hosted
name: noshow-predictor
description: |
    An intelligent agent for healthcare appointment management that predicts patient no-shows 
    using machine learning. The agent can query patient and appointment data, call the ML 
    prediction endpoint, and provide recommendations to reduce no-shows.
metadata:
    authors:
        - Matt Hoffmeister
    tags:
        - Azure AI AgentServer
        - Healthcare
        - Machine Learning
        - Predictions
protocols:
    - protocol: responses
      version: v1
environment_variables:
    # Azure AI Foundry endpoint (auto-set by azd)
    - name: AZURE_AI_PROJECT_ENDPOINT
      value: ${AZURE_AI_PROJECT_ENDPOINT}
    # OpenAI endpoint and deployment  
    - name: AZURE_OPENAI_ENDPOINT
      value: ${AZURE_OPENAI_ENDPOINT}
    - name: AZURE_OPENAI_DEPLOYMENT_NAME
      value: gpt-4o
    # Azure SQL Database connection
    - name: SQL_SERVER
      value: ${AZURE_SQL_SERVER}
    - name: SQL_DATABASE
      value: ${AZURE_SQL_DATABASE}
    # Azure ML endpoint for predictions
    - name: ML_ENDPOINT_URI
      value: ${AZURE_ML_ENDPOINT_URI}
    # Application Insights (optional)
    - name: APPLICATIONINSIGHTS_CONNECTION_STRING
      value: ${APPLICATIONINSIGHTS_CONNECTION_STRING}
