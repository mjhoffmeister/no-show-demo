# Agent manifest for Azure AI Foundry Hosted Agent
# Deploy with: azd ai agent init -m ./agent/agent.yaml && azd up

name: noshow-predictor
displayName: "No-Show Predictor Agent"
description: >
  An intelligent agent for healthcare appointment management that predicts patient no-shows
  using machine learning. The agent can query patient and appointment data, call the ML
  prediction endpoint, and provide recommendations to reduce no-shows.
metadata:
  authors:
    - Healthcare AI Team
  tags:
    - Azure AI AgentServer
    - Healthcare
    - Machine Learning
    - Predictions

template:
  kind: hosted
  name: noshow-predictor
  protocols:
    - protocol: responses
      version: v1
  environment_variables:
    # Azure AI Foundry endpoint (auto-set by azd ai agent)
    - name: AZURE_AI_PROJECT_ENDPOINT
      value: ${AZURE_AI_PROJECT_ENDPOINT}
    # Model deployment name
    - name: AI_FOUNDRY_DEPLOYMENT
      value: "{{chat}}"
    # Azure SQL Database connection
    - name: SQL_SERVER
      value: ${AZURE_SQL_SERVER}
    - name: SQL_DATABASE
      value: ${AZURE_SQL_DATABASE}
    # Azure ML endpoint for predictions
    - name: ML_ENDPOINT_URI
      value: ${AZURE_ML_ENDPOINT_URI}
    # Application Insights (optional)
    - name: APPLICATIONINSIGHTS_CONNECTION_STRING
      value: ${AZURE_APPLICATION_INSIGHTS_CONNECTION_STRING}

resources:
  - name: chat
    kind: model
    id: gpt-4o
